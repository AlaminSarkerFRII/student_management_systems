{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Management System</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body class="d-flex flex-column min-vh-100">

    <!-- navabar  -->
    <nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <i class="fa-solid fa-graduation-cap fa-lg"></i>
            Student Management System</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav me-auto">
              <li class="nav-item">
                <a class="nav-link active" href="#"> <i class="fa-solid fa-house fa-lg"></i> Home
                  <span class="visually-hidden">(current)</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"><i class="fa-solid fa-user-plus fa-beat fa-lg"></i> Add Students</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"> 
                    <i class="fa-solid fa-list fa-beat fa-lg"></i> Students List</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"><i class="fa-solid fa-question fa-lg"></i> About</a>
              </li>
            
            </ul>
            <form class="d-flex">
              <input class="form-control me-sm-2" type="search" placeholder="Search">
              <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>

    <!-- navabar  -->

     <div class="container-fluid">
        <h1>All Students</h1>
        <div class="row">
            <div class="col-md-12">
                {% if students %}

                <div class="card bg-light ms-4 me-4 mb-4">
                    <div class="card-header">
                        <i class="fa-solid fa-book-medical"></i> students records
                    </div>
                    <div class="card-body">
                      <h4 class="card-title">Total Students of Record Us</h4>
                      <p class="card-text">
                        {% for student in students%}

                        <div class="m-2 border-bottom">
                          <p>Student Number  : {{ student.student_number }} </p>
                          <p>Name : {{ student.fisrt_name }} {{ student.last_name }} </p>
                          <p>GPA : {{ student.gpa }}  </p>
                          <p>Email : {{student.email}}</p>


                          <button type="button" class="btn btn-success m-2" href="{% url 'view_student' student.id %}" data-bs-toggle="modal" data-bs-target="#myModal{{student.id}}">View</button>
                         
                        </div>

                          <!-- modal view -->

                        <div class="modal" id="myModal{{student.id}}" aria-labelledby="myModal" tabindex="-1" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title">Student Details </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true"></span>
                                </button>
                              </div>
                              <div class="modal-body">
                                <ul>

                                  <li>Student Number  : {{ student.student_number }} </li>
                                  <li>Name : {{ student.fisrt_name }} {{ student.last_name }} </li>
                                  <li>GPA : {{ student.gpa }}  </li>
                                  <li>Email : {{student.email}}</li>

                                </ul>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                              </div>
                            </div>
                          </div>
                        </div>



                        {%endfor%}
                      </p>
                    </div>
                  </div>
                {% else %}
                <div class="alert alert-dismissible alert-danger">
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    <strong>Oh snap!</strong> <a href="#" class="alert-link">There is no students</a> and try submitting again.
                  </div>
                {% endif%}
               
            </div>
        </div>

     </div>



     <!-- Footer section  -->


     <footer class="footer mt-auto mb-4">
        <div class="container-fluid text-center">
          <span class="text-muted">Copyright &copy; <script>(document.write(new Date().getFullYear()))</script> </span>
        </div>
      </footer>


    <!-- script js file  -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
    
</body>
</html>